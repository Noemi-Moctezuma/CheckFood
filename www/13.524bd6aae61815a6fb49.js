(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{ZEuG:function(t,o,e){"use strict";e.r(o),e.d(o,"PerfilPageModule",function(){return m});var i=e("ofXK"),r=e("3Pt+"),n=e("TEn/"),d=e("tyNb"),a=e("mrSG"),c=e("90wj"),l=e("fXoL"),b=e("xf3R"),s=e("XARU");function p(t,o){if(1&t){const t=l.Pb();l.Ob(0,"ion-col",24),l.Ob(1,"div",25),l.Ob(2,"img",26),l.Wb("click",function(){l.ic(t);const e=o.$implicit;return l.Yb().cambiarPerfil(e)}),l.Nb(),l.Nb(),l.Nb()}if(2&t){const t=o.$implicit;l.zb(2),l.fc("src","assets/fotosPerfil/",t,".png",l.kc)}}const u=[{path:"",component:(()=>{class t{constructor(t,o,e,i,r){this.modalCtrl=t,this.alertController=o,this.dataService=e,this.modalService=i,this.navCtrl=r,this.id=localStorage.getItem("usuario_id"),this.foto="",this.imagenes=["perfil1","perfil2","perfil3","perfil4","perfil5","perfil6","perfil7","perfil8"],this.habilitarEditar=!1}ngOnInit(){this.dataService.post("perfil",{opcion:"perfil",id:this.id}).subscribe(t=>{this.foto="assets/fotosPerfil/"+t[0].avatar+".png",document.getElementById("idNombre").setAttribute("value",t[0].username),document.getElementById("idContrasena").setAttribute("value",t[0].contrasena),document.getElementById("idCorreo").setAttribute("value",t[0].correo)})}alertError(){this.alertController.create({header:"\xa1Error!",message:"Error al editar informaci\xf3n de perfil",buttons:["OK"]}).then(t=>{t.present()})}alertOk(){this.alertController.create({header:"\xa1Editado con \xe9xito!",message:"Informaci\xf3n del perfil editada con \xe9xito",buttons:["OK"]}).then(t=>{t.present()})}abrirModalCupon(){return Object(a.a)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:c.a,componentProps:{}});yield t.present(),yield t.onDidDismiss()})}editar(){if(1==this.habilitarEditar){this.habilitarEditar=!1,document.getElementById("idEditar").setAttribute("style","margin-right: 5%; background-color:green; color: white"),document.getElementById("idNombre").setAttribute("disabled","true"),document.getElementById("idContrasena").setAttribute("disabled","true"),document.getElementById("idCorreo").setAttribute("disabled","true");var t={opcion:"editarPerfil",id:this.id,username:document.getElementById("idNombre").value,contrasena:document.getElementById("idContrasena").value,correo:document.getElementById("idCorreo").value};this.dataService.post("perfil",t).subscribe(t=>{1==t?this.alertOk():this.alertError()})}else document.getElementById("idEditar").setAttribute("style","margin-right: 5%; background-color:white; border-color:green; color: green"),document.getElementById("idNombre").removeAttribute("disabled"),document.getElementById("idContrasena").removeAttribute("disabled"),document.getElementById("idCorreo").removeAttribute("disabled"),this.habilitarEditar=!0}cerrarSesion(){localStorage.setItem("usuario_id",null),this.navCtrl.navigateRoot("/inicio-sesion")}openModal(){document.getElementById("idFondo").style.display="block"}cambiarPerfil(t){document.getElementById("idFondo").style.display="none",this.foto="assets/fotosPerfil/"+t+".png",this.dataService.post("perfil",{opcion:"cambioFotoPerfil",id:this.id,avatar:t}).subscribe(t=>{})}cerrarModalFoto(){document.getElementById("idFondo").style.display="none"}}return t.\u0275fac=function(o){return new(o||t)(l.Jb(n.x),l.Jb(n.a),l.Jb(b.a),l.Jb(s.b),l.Jb(n.y))},t.\u0275cmp=l.Db({type:t,selectors:[["app-perfil"]],decls:34,vars:3,consts:[[2,"height","100%"],[1,"fondo"],[2,"padding-top","50px","padding-bottom","50px"],[1,"fotoPerfil2"],[1,"fotoPerfil"],[3,"src","click"],["type","text","id","idNombre",1,"dato",2,"border","3px solid #c75142",3,"disabled"],["type","password","id","idContrasena","disabled","",1,"dato",2,"font-size","60px","font-weight","bolder"],["type","text","id","idCorreo","disabled","",1,"dato",2,"border","1px solid #c75142"],[1,"dato",2,"border","3px solid #6b7932",3,"click"],["id","idEditar",1,"boton",2,"margin-right","5%","background-color","#81af4f",3,"click"],[1,"boton",2,"margin-left","5%","background-color","#c75142",3,"click"],["id","idFondo",1,"jw-modal-wrapper"],[1,"jw-modal"],[1,"jw-modal-body"],[1,"modal-top"],[1,"botonCerrar",3,"click"],[1,"linea-punteada"],["size","6",4,"ngFor","ngForOf"],[1,"jw-modal-background"],["routerLink","/perfil",1,"botoncitoPerfil"],["routerLink","/home",1,"botoncitoHome"],["routerLink","/categorias",1,"botoncitoCategorias"],["src","/assets/botonesMenu/perfil.png","alt","",1,"menu"],["size","6"],["text-align","\u201ccenter\u201d"],[1,"foto",3,"src","click"]],template:function(t,o){1&t&&(l.Ob(0,"body",0),l.Ob(1,"div",1),l.Ob(2,"div",2),l.Ob(3,"div",3),l.Ob(4,"div",4),l.Ob(5,"img",5),l.Wb("click",function(){return o.openModal()}),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(6,"div"),l.Kb(7,"input",6),l.Kb(8,"input",7),l.Kb(9,"input",8),l.Ob(10,"button",9),l.Wb("click",function(){return o.abrirModalCupon()}),l.oc(11," Canjear cup\xf3n "),l.Nb(),l.Ob(12,"button",10),l.Wb("click",function(){return o.editar()}),l.oc(13," Editar Datos "),l.Nb(),l.Ob(14,"button",11),l.Wb("click",function(){return o.cerrarSesion()}),l.oc(15," Cerrar Sesi\xf3n "),l.Nb(),l.Nb(),l.Ob(16,"div",12),l.Ob(17,"div",13),l.Ob(18,"div",14),l.Ob(19,"div",15),l.Ob(20,"button",16),l.Wb("click",function(){return o.cerrarModalFoto()}),l.oc(21," x "),l.Nb(),l.Ob(22,"p"),l.oc(23,"Cambiar foto de perfil"),l.Nb(),l.Nb(),l.Kb(24,"div",17),l.Ob(25,"div"),l.Ob(26,"ion-grid"),l.Ob(27,"ion-row"),l.mc(28,p,3,1,"ion-col",18),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Kb(29,"div",19),l.Nb(),l.Nb(),l.Kb(30,"button",20),l.Kb(31,"button",21),l.Kb(32,"button",22),l.Kb(33,"img",23),l.Nb()),2&t&&(l.zb(5),l.dc("src",o.foto,l.kc),l.zb(2),l.dc("disabled",!0),l.zb(21),l.dc("ngForOf",o.imagenes))},directives:[n.j,n.s,i.j,n.C,d.h,n.g],styles:[".fondo[_ngcontent-%COMP%]{text-align:center;background-color:#f6f5f4;border:3px solid #f6f5f4;border-radius:40px;margin:5%;height:93%}.fotoPerfil[_ngcontent-%COMP%]{width:150px;height:150px;margin:0 auto;border:10px solid #fff;border-radius:50%}.fotoPerfil2[_ngcontent-%COMP%]{width:155px;height:155px;margin:1px auto;border:2px solid #d7e6a3;border-radius:50%}.dato[_ngcontent-%COMP%]{font-size:12px;color:#000;border-radius:18px;height:50px;background-color:#f6f5f4;margin:15px;width:80%}.boton[_ngcontent-%COMP%], .dato[_ngcontent-%COMP%]{font-family:Cocogoose-Light;letter-spacing:1px;text-align:center}.boton[_ngcontent-%COMP%]{border:2px solid;color:#fff;border-radius:18px;height:40px;margin-top:15px;margin-bottom:15px;width:35%;font-size:11px}.menu[_ngcontent-%COMP%]{width:50%;position:absolute;left:25%;right:25%;bottom:0}body.jw-modal-open[_ngcontent-%COMP%]{overflow:hidden}.jw-modal[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;overflow:auto}.jw-modal-body[_ngcontent-%COMP%]{background:#fff;width:70%;height:60%;margin:45% 15% 15%;border:0 solid #f6f5f4;border-radius:30px}.jw-modal-background[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000;opacity:.75;z-index:900}.jw-modal-wrapper[_ngcontent-%COMP%]{display:none}.modal-top[_ngcontent-%COMP%]{border-radius:30px 30px 0 0;-moz-border-radius:30px 30px 0 0;-webkit-border-radius:30px 30px 0 0;background-color:#81af4f;height:10%;display:flex;justify-content:center;align-content:center;flex-direction:column;color:#fff;font-family:Cocogoose-light;font-size:12px;letter-spacing:1px}.linea-punteada[_ngcontent-%COMP%]{height:25px;border-bottom-style:dotted;border-bottom-width:5px;margin-bottom:20px}.foto[_ngcontent-%COMP%]{width:80px;height:80px;display:block;margin:auto}.botonCerrar[_ngcontent-%COMP%]{border-radius:0 30px 0 0;-moz-border-radius:0 30px 0 0;-webkit-border-radius:0 30px 0 0;background-color:#81af4f;height:5%;width:40px;right:15%;position:absolute;color:#fff;font-size:20px;font-weight:700}.botoncitoPerfil[_ngcontent-%COMP%]{background-color:green;margin-top:-18%;margin-left:61%}.botoncitoHome[_ngcontent-%COMP%], .botoncitoPerfil[_ngcontent-%COMP%]{position:absolute;height:40px;width:40px;border-radius:50%;z-index:100}.botoncitoHome[_ngcontent-%COMP%]{background-color:#00f;margin-top:-25%;margin-left:45%}.botoncitoCategorias[_ngcontent-%COMP%]{position:absolute;height:40px;width:40px;background-color:red;border-radius:50%;margin-top:-18%;margin-left:29%;z-index:100}"]}),t})()}];let f=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({imports:[[d.j.forChild(u)],d.j]}),t})();var g=e("2FBn");let m=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({imports:[[i.b,r.a,n.v,f,g.ModalCuponPageModule]]}),t})()}}]);