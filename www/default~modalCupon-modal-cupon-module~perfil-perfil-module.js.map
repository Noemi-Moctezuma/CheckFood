{"version":3,"sources":["./src/app/modalCupon/modal-cupon.module.ts","./src/app/modalCupon/modal-cupon.page.ts","./src/app/modalCupon/modal-cupon.page.scss","./src/app/modalCupon/modal-cupon-routing.module.ts","./src/app/modalCupon/modal-cupon.page.html"],"names":[],"mappings":"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","file":"default~modalCupon-modal-cupon-module~perfil-perfil-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ModalCuponPageRoutingModule } from './modal-cupon-routing.module';\r\n\r\nimport { ModalCuponPage } from './modal-cupon.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ModalCuponPageRoutingModule\r\n  ],\r\n  declarations: [ModalCuponPage]\r\n})\r\nexport class ModalCuponPageModule {}\r\n","\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { DataService } from './../data-service.service';\r\nimport { Screenshot } from '@ionic-native/screenshot/ngx';\r\n\r\n@Component({\r\n  selector: 'app-modal-cupon',\r\n  templateUrl: './modal-cupon.page.html',\r\n  styleUrls: ['./modal-cupon.page.scss'],\r\n})\r\nexport class ModalCuponPage implements OnInit {\r\n\r\n  constructor( private modalCtrl : ModalController, \r\n    public alertController: AlertController,\r\n    private dataService: DataService,\r\n    private   screenshot: Screenshot\r\n    ) { }\r\npuntos;\r\ndinero;\r\nid='2';\r\n  ngOnInit() {\r\n    this.obtenerPuntos();\r\n\r\n  }\r\n  obtenerPuntos(){\r\n    \r\n    var info = {\r\n      opcion:'obtenerPuntos',\r\n      id:this.id\r\n    }\r\n    this.dataService.post('perfil', info).subscribe((data:any)=>{\r\n      this.puntos = data[0].puntos;\r\n      this.dinero = (this.puntos)/10;\r\n      //console.log(this.dinero);\r\n           \r\n   })\r\n  }\r\n\r\n\r\n  //cerrar modal y mandar los parámetros a vista principal\r\n  cancelar(){\r\n    this.modalCtrl.dismiss({\r\n      //nombre:data\r\n    });\r\n  }\r\n  cerrarConInfo(data: any){\r\n    this.modalCtrl.dismiss({\r\n      //nombre:data\r\n    });\r\n  }\r\n  \r\n  alertError() {\r\n    this.alertController.create({\r\n      header: '¡Error!',\r\n      message: 'Error al canjear cupón',\r\n      buttons: ['OK']\r\n    }).then(res => {\r\n      res.present();\r\n    });\r\n\r\n  };\r\n  async aceptar() {\r\n    if(this.puntos>0){\r\n      \r\n      const alert = await this.alertController.create({\r\n        cssClass: 'my-custom-class',\r\n        header: '¿Está seguro en cambiar el cupón?',\r\n        message: 'Esta acción no se puede revertir',\r\n        buttons: [\r\n          {\r\n            text: 'Aceptar',\r\n            cssClass: 'primary',\r\n            handler: () => {\r\n              //console.log('Aceptar');\r\n\r\n              var info = {\r\n                opcion:'limpiarPuntos',\r\n                id:this.id\r\n              }\r\n              this.dataService.post('perfil', info).subscribe((data:any)=>{\r\n                if(data == true){\r\n                  this.obtenerPuntos();\r\n                  this.cupon();\r\n                 }\r\n                else{\r\n                  this.alertError();\r\n                }  \r\n             })\r\n            }\r\n          }, {\r\n            text: 'Cancelar',\r\n            cssClass: 'secondary',\r\n            handler: () => {\r\n              //console.log('Cancelar');\r\n            }\r\n          }\r\n        ]\r\n      });\r\n  \r\n      await alert.present();\r\n\r\n    }\r\n    else{\r\n      \r\n      this.alertController.create({\r\n        header: '¡Error!',\r\n        message: 'Tu saldo es insuficinete para canjear el cupón',\r\n        buttons: ['OK']\r\n      }).then(res => {\r\n        res.present();\r\n      });\r\n      \r\n\r\n    }\r\n\r\n\r\n    }\r\n    async cupon() {\r\n\r\n\r\n      const alerta = await this.alertController.create({\r\n        cssClass: 'my-custom-class',\r\n        header: 'Cupón',\r\n        message: 'CF'+ this.id + \"P\" + this.puntos + \"A\",\r\n        buttons: [\r\n          {\r\n            text: 'Tomar captura',\r\n            cssClass: 'primary',\r\n            handler: () => {\r\n              //console.log('Captura');\r\n            this.screenshot.save().then(()=>{\r\n  \r\n              //console.log(\"guardada\");\r\n            });\r\n\r\n\r\n            }\r\n          }, {\r\n            text: 'Cerrar',\r\n            cssClass: 'secondary',\r\n            handler: () => {\r\n             // console.log('Cerrar');\r\n            }\r\n          }\r\n        ]\r\n      });\r\n  \r\n      await alerta.present();\r\n    }\r\n  \r\n}\r\n","export default \".fondo {\\n  text-align: center;\\n  background-color: #f6f5f4;\\n  border: 0px solid #f6f5f4;\\n  border-radius: 70px;\\n  margin: 5%;\\n  height: 93%;\\n}\\n\\n.titulo {\\n  margin: 0%;\\n  border-radius: 70px 70px 0px 0px;\\n  -moz-border-radius: 70px 70px 0px 0px;\\n  -webkit-border-radius: 70px 70px 0px 0px;\\n  background-color: #81af4f;\\n  height: 10%;\\n  display: flex;\\n  justify-content: center;\\n  align-content: center;\\n  flex-direction: column;\\n  color: white;\\n  font-size: 25px;\\n}\\n\\n.linea-punteada {\\n  height: 35px;\\n  border-bottom-style: dotted;\\n  border-bottom-width: 10px;\\n  margin-bottom: 20px;\\n}\\n\\n.boton {\\n  border: 2px solid;\\n  color: white;\\n  border-radius: 18px;\\n  height: 40px;\\n  text-align: center;\\n  margin-top: 15px;\\n  margin-bottom: 15px;\\n  width: 35%;\\n}\\n\\n.texto {\\n  font-family: Cocogoose-Light;\\n  color: #c75142;\\n  margin: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXG1vZGFsLWN1cG9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7QUFBSjs7QUFFQTtFQUNJLFVBQUE7RUFDQSxnQ0FBQTtFQUNBLHFDQUFBO0VBQ0Esd0NBQUE7RUFDQSx5QkFBQTtFQUNBLFdBQUE7RUFFQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxxQkFBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7QUFBSjs7QUFHQTtFQUNJLFlBQUE7RUFDQSwyQkFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7QUFBSjs7QUFFQTtFQUNJLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLFVBQUE7QUFDSjs7QUFDQTtFQUNJLDRCQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7QUFFSiIsImZpbGUiOiJtb2RhbC1jdXBvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmZvbmRve1xyXG4gICAgdGV4dC1hbGlnbjpjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNWY0O1xyXG4gICAgYm9yZGVyOjBweCBzb2xpZCAjZjZmNWY0O1xyXG4gICAgYm9yZGVyLXJhZGl1czo3MHB4O1xyXG4gICAgbWFyZ2luOiA1JTtcclxuICAgIGhlaWdodDogOTMlO1xyXG59XHJcbi50aXR1bG97XHJcbiAgICBtYXJnaW46IDAlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNzBweCA3MHB4IDBweCAwcHg7XHJcbiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDcwcHggNzBweCAwcHggMHB4O1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA3MHB4IDcwcHggMHB4IDBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM4MWFmNGY7XHJcbiAgICBoZWlnaHQ6IDEwJTtcclxuICAgIFxyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGNvbG9yOiB3aGl0ZTsgICBcclxuICAgIGZvbnQtc2l6ZTogMjVweDtcclxufVxyXG5cclxuLmxpbmVhLXB1bnRlYWRhe1xyXG4gICAgaGVpZ2h0OjM1cHg7XHJcbiAgICBib3JkZXItYm90dG9tLXN0eWxlOiBkb3R0ZWQ7IFxyXG4gICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMTBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbn1cclxuLmJvdG9ue1xyXG4gICAgYm9yZGVyOjJweCBzb2xpZDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6MThweDtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbi10b3A6IDE1cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG4gICAgd2lkdGg6IDM1JTtcclxufVxyXG4udGV4dG97XHJcbiAgICBmb250LWZhbWlseTogQ29jb2dvb3NlLUxpZ2h0O1xyXG4gICAgY29sb3I6ICNjNzUxNDI7XHJcbiAgICBtYXJnaW46IDIwcHg7XHJcbn1cclxuLmRhdG97XHJcbiAgICBcclxufSJdfQ== */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ModalCuponPage } from './modal-cupon.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ModalCuponPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ModalCuponPageRoutingModule {}\r\n","export default \"<ion-header >\\r\\n\\r\\n</ion-header>\\r\\n<body style=\\\"height:100%\\\" >\\r\\n  <div class=\\\"fondo\\\">\\r\\n    \\r\\n    <p class=\\\"titulo\\\">¿Canjear cupón?</p>\\r\\n\\r\\n    <div class=\\\"linea-punteada\\\">\\r\\n\\r\\n     \\r\\n    </div>\\r\\n    <div class=\\\"texto\\\">\\r\\n      <p>Usted cuenta con:</p>\\r\\n      <p style=\\\"font-family:Couture-Bold; font-size: 20px; font-weight: bolder;\\\">\\r\\n        {{puntos}} puntos  \\r\\n      </p>\\r\\n      <p>lo que equivale a:</p>\\r\\n      <p style=\\\" font-family:Couture-Bold; font-size: 20px; font-weight: bolder;\\\">\\r\\n         {{dinero}} pesos mexicanos\\r\\n      </p>\\r\\n      <p> Si desea cambiarlos presione el botón \\\"canjear puntos\\\", al hacerlo se mostrará el cupón de descuento\\r\\n        el cual puede mostrar en las siguientes tiendas de autoservicio: </p>\\r\\n      <p>- La Comer\\r\\n        <br>\\r\\n        - Bodega Ahurrera\\r\\n        <br>\\r\\n        - Soriana</p>\\r\\n      <p>Al canjear el cupón de descuento los puntos se eliminarán de su cuenta por lo que se recomienda tomar captura de pantalla o anotar el cupón de descuento</p>\\r\\n    </div>\\r\\n\\r\\n\\r\\n    <button class=\\\"boton\\\" (click)=\\\"aceptar()\\\" style=\\\"margin-right: 5%; background-color:#81af4f;\\\">\\r\\n      Canjear cupón\\r\\n    </button>\\r\\n    <button class=\\\"boton\\\" (click)=\\\"cancelar()\\\" style=\\\"margin-left: 5%; background-color: #c75142;\\\">\\r\\n      Cancelar\\r\\n    </button>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</body>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\";"],"sourceRoot":"webpack:///"}