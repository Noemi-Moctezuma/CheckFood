{"version":3,"sources":["./src/app/modalCupon/modal-cupon.module.ts","./src/app/modalCupon/modal-cupon.page.ts","./src/app/modalCupon/modal-cupon.page.scss","./src/app/modalCupon/modal-cupon-routing.module.ts","./src/app/modalCupon/modal-cupon.page.html","./src/app/data-service.service.ts"],"names":[],"mappings":"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","file":"default~modalCupon-modal-cupon-module~perfil-perfil-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ModalCuponPageRoutingModule } from './modal-cupon-routing.module';\n\nimport { ModalCuponPage } from './modal-cupon.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ModalCuponPageRoutingModule\n  ],\n  declarations: [ModalCuponPage]\n})\nexport class ModalCuponPageModule {}\n","\nimport { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { AlertController } from '@ionic/angular';\nimport { DataService } from './../data-service.service';\nimport { Screenshot } from '@ionic-native/screenshot/ngx';\n\n@Component({\n  selector: 'app-modal-cupon',\n  templateUrl: './modal-cupon.page.html',\n  styleUrls: ['./modal-cupon.page.scss'],\n})\nexport class ModalCuponPage implements OnInit {\n\n  constructor( private modalCtrl : ModalController, \n    public alertController: AlertController,\n    private dataService: DataService,\n    private   screenshot: Screenshot\n    ) { }\npuntos;\ndinero;\nid='2';\n  ngOnInit() {\n    this.obtenerPuntos();\n\n  }\n  obtenerPuntos(){\n    \n    var info = {\n      opcion:'obtenerPuntos',\n      id:this.id\n    }\n    this.dataService.post('perfil', info).subscribe((data:any)=>{\n      this.puntos = data[0].puntos;\n      this.dinero = (this.puntos)/10;\n      //console.log(this.dinero);\n           \n   })\n  }\n\n\n  //cerrar modal y mandar los parámetros a vista principal\n  cancelar(){\n    this.modalCtrl.dismiss({\n      //nombre:data\n    });\n  }\n  cerrarConInfo(data: any){\n    this.modalCtrl.dismiss({\n      //nombre:data\n    });\n  }\n  \n  alertError() {\n    this.alertController.create({\n      header: '¡Error!',\n      message: 'Error al canjear cupón',\n      buttons: ['OK']\n    }).then(res => {\n      res.present();\n    });\n\n  };\n  async aceptar() {\n    if(this.puntos>0){\n      \n      const alert = await this.alertController.create({\n        cssClass: 'my-custom-class',\n        header: '¿Está seguro en cambiar el cupón?',\n        message: 'Esta acción no se puede revertir',\n        buttons: [\n          {\n            text: 'Aceptar',\n            cssClass: 'primary',\n            handler: () => {\n              //console.log('Aceptar');\n\n              var info = {\n                opcion:'limpiarPuntos',\n                id:this.id\n              }\n              this.dataService.post('perfil', info).subscribe((data:any)=>{\n                if(data == true){\n                  this.obtenerPuntos();\n                  this.cupon();\n                 }\n                else{\n                  this.alertError();\n                }  \n             })\n            }\n          }, {\n            text: 'Cancelar',\n            cssClass: 'secondary',\n            handler: () => {\n              //console.log('Cancelar');\n            }\n          }\n        ]\n      });\n  \n      await alert.present();\n\n    }\n    else{\n      \n      this.alertController.create({\n        header: '¡Error!',\n        message: 'Tu saldo es insuficinete para canjear el cupón',\n        buttons: ['OK']\n      }).then(res => {\n        res.present();\n      });\n      \n\n    }\n\n\n    }\n    async cupon() {\n\n\n      const alerta = await this.alertController.create({\n        cssClass: 'my-custom-class',\n        header: 'Cupón',\n        message: 'CF'+ this.id + \"P\" + this.puntos + \"A\",\n        buttons: [\n          {\n            text: 'Tomar captura',\n            cssClass: 'primary',\n            handler: () => {\n              //console.log('Captura');\n            this.screenshot.save().then(()=>{\n  \n              //console.log(\"guardada\");\n            });\n\n\n            }\n          }, {\n            text: 'Cerrar',\n            cssClass: 'secondary',\n            handler: () => {\n             // console.log('Cerrar');\n            }\n          }\n        ]\n      });\n  \n      await alerta.present();\n    }\n  \n}\n","export default \".fondo {\\n  text-align: center;\\n  background-color: #f6f5f4;\\n  border: 0px solid #f6f5f4;\\n  border-radius: 70px;\\n  margin: 5%;\\n  height: 93%;\\n}\\n\\n.titulo {\\n  margin: 0%;\\n  border-radius: 70px 70px 0px 0px;\\n  -moz-border-radius: 70px 70px 0px 0px;\\n  -webkit-border-radius: 70px 70px 0px 0px;\\n  background-color: #81af4f;\\n  height: 10%;\\n  display: flex;\\n  justify-content: center;\\n  align-content: center;\\n  flex-direction: column;\\n  color: white;\\n  font-size: 25px;\\n}\\n\\n.linea-punteada {\\n  height: 35px;\\n  border-bottom-style: dotted;\\n  border-bottom-width: 10px;\\n  margin-bottom: 20px;\\n}\\n\\n.boton {\\n  border: 2px solid;\\n  color: white;\\n  border-radius: 18px;\\n  height: 40px;\\n  text-align: center;\\n  margin-top: 15px;\\n  margin-bottom: 15px;\\n  width: 35%;\\n}\\n\\n.texto {\\n  font-family: Cocogoose-Light;\\n  color: #c75142;\\n  margin: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXG1vZGFsLWN1cG9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7QUFBSjs7QUFFQTtFQUNJLFVBQUE7RUFDQSxnQ0FBQTtFQUNBLHFDQUFBO0VBQ0Esd0NBQUE7RUFDQSx5QkFBQTtFQUNBLFdBQUE7RUFFQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxxQkFBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7QUFBSjs7QUFHQTtFQUNJLFlBQUE7RUFDQSwyQkFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7QUFBSjs7QUFFQTtFQUNJLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLFVBQUE7QUFDSjs7QUFDQTtFQUNJLDRCQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7QUFFSiIsImZpbGUiOiJtb2RhbC1jdXBvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmZvbmRve1xyXG4gICAgdGV4dC1hbGlnbjpjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNWY0O1xyXG4gICAgYm9yZGVyOjBweCBzb2xpZCAjZjZmNWY0O1xyXG4gICAgYm9yZGVyLXJhZGl1czo3MHB4O1xyXG4gICAgbWFyZ2luOiA1JTtcclxuICAgIGhlaWdodDogOTMlO1xyXG59XHJcbi50aXR1bG97XHJcbiAgICBtYXJnaW46IDAlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNzBweCA3MHB4IDBweCAwcHg7XHJcbiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDcwcHggNzBweCAwcHggMHB4O1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA3MHB4IDcwcHggMHB4IDBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM4MWFmNGY7XHJcbiAgICBoZWlnaHQ6IDEwJTtcclxuICAgIFxyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGNvbG9yOiB3aGl0ZTsgICBcclxuICAgIGZvbnQtc2l6ZTogMjVweDtcclxufVxyXG5cclxuLmxpbmVhLXB1bnRlYWRhe1xyXG4gICAgaGVpZ2h0OjM1cHg7XHJcbiAgICBib3JkZXItYm90dG9tLXN0eWxlOiBkb3R0ZWQ7IFxyXG4gICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMTBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbn1cclxuLmJvdG9ue1xyXG4gICAgYm9yZGVyOjJweCBzb2xpZDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6MThweDtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbi10b3A6IDE1cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG4gICAgd2lkdGg6IDM1JTtcclxufVxyXG4udGV4dG97XHJcbiAgICBmb250LWZhbWlseTogQ29jb2dvb3NlLUxpZ2h0O1xyXG4gICAgY29sb3I6ICNjNzUxNDI7XHJcbiAgICBtYXJnaW46IDIwcHg7XHJcbn1cclxuLmRhdG97XHJcbiAgICBcclxufSJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ModalCuponPage } from './modal-cupon.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ModalCuponPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ModalCuponPageRoutingModule {}\n","export default \"<ion-header >\\n\\n</ion-header>\\n<body style=\\\"height:100%\\\" >\\n  <div class=\\\"fondo\\\">\\n    \\n    <p class=\\\"titulo\\\">¿Canjear cupón?</p>\\n\\n    <div class=\\\"linea-punteada\\\">\\n\\n     \\n    </div>\\n    <div class=\\\"texto\\\">\\n      <p>Usted cuenta con:</p>\\n      <p style=\\\"font-family:Couture-Bold; font-size: 20px; font-weight: bolder;\\\">\\n        {{puntos}} puntos  \\n      </p>\\n      <p>lo que equivale a:</p>\\n      <p style=\\\" font-family:Couture-Bold; font-size: 20px; font-weight: bolder;\\\">\\n         {{dinero}} pesos mexicanos\\n      </p>\\n      <p> Si desea cambiarlos presione el botón \\\"canjear puntos\\\", al hacerlo se mostrará el cupón de descuento\\n        el cual puede mostrar en las siguientes tiendas de autoservicio: </p>\\n      <p>- La Comer\\n        <br>\\n        - Bodega Ahurrera\\n        <br>\\n        - Soriana</p>\\n      <p>Al canjear el cupón de descuento los puntos se eliminarán de su cuenta por lo que se recomienda tomar captura de pantalla o anotar el cupón de descuento</p>\\n    </div>\\n\\n\\n    <button class=\\\"boton\\\" (click)=\\\"aceptar()\\\" style=\\\"margin-right: 5%; background-color:#81af4f;\\\">\\n      Canjear cupón\\n    </button>\\n    <button class=\\\"boton\\\" (click)=\\\"cancelar()\\\" style=\\\"margin-left: 5%; background-color: #c75142;\\\">\\n      Cancelar\\n    </button>\\n\\n  </div>\\n\\n</body>\\n\\n\\n\\n\\n\";","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DataService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n  //la url de su compu; la ip es la que se muestra cuando corren el comando ionic serve\r\n  //\r\n    urlLaptop = 'http://192.168.1.74/webservice/checkfood/';\r\n    url = 'http://localhost/webservice/checkfood/';\r\n    api = '/service.php';\r\n    \r\n    post(model, params){\r\n      return this.http.post(this.urlLaptop + model + this.api, params, {responseType: 'json'});\r\n    }\r\n}\r\n"],"sourceRoot":"webpack:///"}